# FAERS MCP Server

MCP server for FDA Adverse Event Reporting System (FAERS) data via the OpenFDA API. A complete pharmacovigilance toolkit for drug safety analysis.

**Generated by:** [@sineai/mcp-forge](https://dev.azure.com/sineai/Agents/_git/mcp-forge) v2.0.0

## Features

- Search adverse event reports by drug, reaction, date range
- Get aggregated event counts grouped by reaction, outcome, demographics
- Compare safety profiles across multiple drugs
- Analyze serious events (deaths, hospitalizations, etc.)
- View reporting trends over time
- Find drugs associated with specific reactions
- Identify commonly co-reported drugs
- Get FDA drug label information (warnings, contraindications, boxed warnings)
- Search FDA drug recalls and enforcement actions
- Search by indication to compare drugs in the same therapeutic class
- **Search by drug class** (e.g., all TNF inhibitors, GLP-1 agonists)
- **Compare label to FAERS reports** - identify emerging safety signals
- **Pediatric safety analysis** with adult comparison

## User Personas

| User | Primary Tools |
|------|---------------|
| **Medical Monitor** | search_adverse_events, compare_safety_profiles, get_pediatric_safety |
| **Protocol Writer** | search_by_drug_class, get_drug_label_info, get_pediatric_safety |
| **Pharmacovigilance** | compare_label_to_reports, get_reporting_trends, get_serious_events |
| **Regulatory Affairs** | compare_label_to_reports, get_drug_label_info, get_recall_info |
| **BD / Competitive Intel** | compare_safety_profiles, search_by_drug_class, get_recall_info |
| **Medical Affairs** | get_event_counts, get_drug_label_info, search_by_reaction |

## Authentication

This MCP is configured for **Standalone Mode** - it handles its own authentication.

### Key Vault Secrets

| Secret Name | Description |
|-------------|-------------|
| \`auth-mode\` | \`azure_ad\`, \`api_key\`, or \`none\` |
| \`azure-tenant-id\` | Azure AD tenant ID |
| \`azure-client-id\` | App registration client ID |
| \`azure-allowed-groups\` | Comma-separated group IDs |
| \`api-keys\` | Comma-separated API keys |

### OpenFDA API Key (Optional)

The OpenFDA API works without an API key, but with limits:
- **Without key (free mode):** 240 requests/min, 1,000 requests/day per IP
- **With key:** 240 requests/min, 120,000 requests/day per key

**To get a free API key:**
1. Go to https://open.fda.gov/apis/authentication/
2. Enter your email address
3. Check your email for the API key
4. Add to your MCP config as \`OPENFDA_API_KEY\` environment variable

If no API key is provided, the MCP will run in free mode automatically.

## Quick Start

\`\`\`bash
# Install dependencies
npm install

# Copy and configure environment
cp .env.example .env

# Run locally (stdio mode)
npm run dev

# Run in remote mode (HTTP/SSE)
npm run start:remote
\`\`\`

## Available Tools (14 Total)

### Core Adverse Event Tools
| Tool | Description |
|------|-------------|
| \`search_adverse_events\` | Search AE reports by drug, reaction, date |
| \`get_event_counts\` | Aggregated counts by reaction, outcome, demographics |
| \`compare_safety_profiles\` | Compare AE profiles across 2-5 drugs |
| \`get_serious_events\` | Filter to serious outcomes only |
| \`get_reporting_trends\` | AE volume over time by year/quarter/month |
| \`search_by_reaction\` | Find drugs associated with a reaction |
| \`get_concomitant_drugs\` | Find commonly co-reported drugs |

### Drug Class & Indication Tools
| Tool | Description |
|------|-------------|
| \`search_by_indication\` | Find AEs for drugs used for a specific condition |
| \`search_by_drug_class\` | Search AEs across entire drug class (TNF inhibitors, SSRIs, etc.) |

### Signal Detection Tools
| Tool | Description |
|------|-------------|
| \`compare_label_to_reports\` | Compare FDA label to FAERS - identify emerging signals |
| \`get_pediatric_safety\` | Pediatric-specific safety with adult comparison |

### Drug Information Tools
| Tool | Description |
|------|-------------|
| \`get_drug_label_info\` | FDA drug label (warnings, contraindications, boxed warnings) |
| \`get_recall_info\` | FDA drug recalls and enforcement actions |
| \`get_data_info\` | Database info and limitations |

## Example Queries

**Medical Monitor:**
- "Is injection site reaction expected for Humira?"
- "Compare Humira safety profile to other TNF inhibitors"

**Protocol Writer:**
- "What AEs should I monitor for GLP-1 agonists?"
- "What's the pediatric safety profile for metformin?"

**Pharmacovigilance:**
- "Are there any signals for Ozempic not on the label?"
- "Show me the reporting trend for Keytruda over 3 years"

**Regulatory Affairs:**
- "What does the Xarelto label say vs what's being reported?"
- "Has there been any Class I recalls for this drug?"

**BD / Competitive Intel:**
- "Compare safety profiles of all SGLT2 inhibitors"
- "Any red flags on this acquisition target drug?"

## Data Limitations

**IMPORTANT:** FAERS data has significant limitations:

- A report does **NOT** prove the drug caused the event
- Voluntary reporting means many events go unreported
- Cannot calculate incidence rates (no denominator)
- Reporting influenced by publicity and time on market
- Duplicate and incomplete reports exist

This data should be used for signal detection and hypothesis generation, not as the sole basis for clinical decisions.

## Configuration

### MCP Config (Cursor/Claude Desktop)

\`\`\`json
{
  "mcpServers": {
    "faers": {
      "command": "node",
      "args": ["/path/to/drug-safety-mcp/dist/index.js"],
      "env": {
        "OPENFDA_API_KEY": "your_api_key_here"
      }
    }
  }
}
\`\`\`

Or for remote mode:

\`\`\`json
{
  "mcpServers": {
    "faers": {
      "url": "https://<your-mcp-url>/mcp",
      "headers": {
        "Authorization": "Bearer <your-token>"
      }
    }
  }
}
\`\`\`

## Deployment

Deploy to Azure Container Apps:

\`\`\`bash
npm run deploy
\`\`\`

## Environment Variables

| Variable | Default | Description |
|----------|---------|-------------|
| \`MCP_MODE\` | \`local\` | \`local\` (stdio) or \`remote\` (HTTP) |
| \`PORT\` | \`3000\` | HTTP port (remote mode) |
| \`AZURE_KEYVAULT_URL\` | - | Key Vault URL |
| \`LOG_LEVEL\` | \`info\` | \`debug\`, \`info\`, \`warn\`, \`error\` |
| \`OPENFDA_API_KEY\` | - | OpenFDA API key (optional, free mode if not set) |

## License

MIT

## Author

Signant Health
